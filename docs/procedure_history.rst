#############################################################
Доступ до АРІ історії перевірки процедури ризик індикаторами.
#############################################################

Для детального опису результатів перевірки процедури ризик індикаторами існує **історія перевірки**. **Історія перевірки** містить у собі дані про те якими індикаторами, на яких стадіях процедури, у який час, скільки разів перевірялась процедура. А також кожен результат такої перевірки. За допомогою історії аудитор може чітко визначити, коли та за яких умов спрацював або не спрацював кожен ризик індикатор, що перевіряв дану процедуру.


****************************
Доступ до історії перевірки.
****************************

Доступ до історії перевірки здійснюється за посиланням ``http://95.216.36.61:8026/api/v0.1/tenders/UA-ХХХХ-ХХ-ХХ-ХХХХХХ-Х``, де ``UA-ХХХХ-ХХ-ХХ-ХХХХХХ-Х`` - зручний для людини ідентифікатор процедури.

****************************************
Можливі помилки при з'єднанні та їх коди
****************************************

**404 - Incorrect link was entered** -  Перевірте посилання, за яким намагаєтесь отримати доступ

**500 - Server connection error** -  Повторіть спробу.

********************
Описання API історії
********************
У результаті запиту надається JSON документ, що описаний нижче.

*************************
Структура JSON документу.
*************************

Документ має наступний вигляд.

.. code ::

    {
    "data" : [ {
      "indicatorsInfo" : [ {
         "indicatorImpactType" : "high",
         "indicatorId" : "indicatorId",
         "indicatorName" : "indicatorName",
         "indicatorRisk" : "Недобросовісна конкуренція серед учасників",
         "indicatorStage" : "tendering",
         "indicatorTenderLotType" : "tender"
       }, {
         "indicatorImpactType" : "high",
         "indicatorId" : "indicatorId",
         "indicatorName" : "indicatorName",
         "indicatorRisk" : "Недобросовісна конкуренція серед учасників",
         "indicatorStage" : "tendering",
         "indicatorTenderLotType" : "tender"
       } ],
       "indicatorsSummary" : {
         "tenderScore" : 7.3862819483858839220147274318151175975799560546875,
         "numberOfFailedIndicators" : 4,
         "numberofElegibleIndicators" : 3,
         "numberofIndicatorsWithRisk" : 2
       },
      "id" : "id",
      "tenderId" : "tenderId",
      "indicators" : {
         "tenderIndicators" : [ {
         "indicatorId" : "indicatorId",
         "indicatorImpact" : 6.02745618307040320615897144307382404804229736328125,
         "history" : [ {
           "date" : "2000-01-23T04:56:07.000+00:00",
           "indicatorImpact" : 5.962133916683182377482808078639209270477294921875,
            "value" : 1
         }, {
            "date" : "2000-01-23T04:56:07.000+00:00",
            "indicatorImpact" : 5.962133916683182377482808078639209270477294921875,
            "value" : 1
          } ],
         "value" : 0
       }, {
         "indicatorId" : "indicatorId",
         "indicatorImpact" : 6.02745618307040320615897144307382404804229736328125,
         "history" : [ {
            "date" : "2000-01-23T04:56:07.000+00:00",
            "indicatorImpact" : 5.962133916683182377482808078639209270477294921875,
            "value" : 1
         }, {
           "date" : "2000-01-23T04:56:07.000+00:00",
           "indicatorImpact" : 5.962133916683182377482808078639209270477294921875,
           "value" : 1
         } ],
         "value" : 0
       } ],
       "lotIndicators" : [ {
          "lots" : [ "lots", "lots" ],
          "indicatorId" : "indicatorId",
          "indicatorImpact" : 2.3021358869347654518833223846741020679473876953125,
          "history" : [ {
            "date" : "2000-01-23T04:56:07.000+00:00",
            "indicatorImpact" : 9.301444243932575517419536481611430644989013671875,
            "lotId" : "lotId",
            "value" : 7
          }, {
            "date" : "2000-01-23T04:56:07.000+00:00",
            "indicatorImpact" : 9.301444243932575517419536481611430644989013671875,
            "lotId" : "lotId",
            "value" : 7
          } ],
          "value" : 5
        }, {
          "lots" : [ "lots", "lots" ],
          "indicatorId" : "indicatorId",
          "indicatorImpact" : 2.3021358869347654518833223846741020679473876953125,
          "history" : [ {
            "date" : "2000-01-23T04:56:07.000+00:00",
            "indicatorImpact" : 9.301444243932575517419536481611430644989013671875,
            "lotId" : "lotId",
            "value" : 7
          }, {
            "date" : "2000-01-23T04:56:07.000+00:00",
            "indicatorImpact" : 9.301444243932575517419536481611430644989013671875,
            "lotId" : "lotId",
            "value" : 7
          } ],
          "value" : 5
       } ]
     }
    }, 

Опис полів верхнього рівня.
===========================

На верхньому рівні містяться наступні дані:

- ``tenderId`` - зручний для людини ідентифікатор процедури.
- ``іd`` -  ідентифікатор процедури з АРІ Прозорро.
- ``status`` - статус процедури.
- ``indicators`` - контейнер, що містить інформацію про перевірку процедури індикаторами та історію перевірки.
- ``indicatorsSummary`` - контейнер, що містить узагальнену інформацію про результати перевірки.
- ``indicatorsInfo`` - контейнер, що містить коротку інформацію про індикатори, що перевіряли процедуру.

Опис полів контейнеру "indicators".
===================================

У контейнері "indicators" містяться наступні дані:

- ``tenderIndicators`` - контейнер, що містить дані перевірки індикаторами, що перевіряють процедуру загалом.
- ``lotIndicators`` - контейнер, що містить дані перевірки індикаторами, що перевіряють окремо кожен лот процедури.

Опис полів контейнера "tenderIndicators".
=========================================

У контейнері "tenderIndicators" містяться наступні дані:

- ``indicatorId`` - ідентифікатор індикатора, що перевіряв процедуру.
- ``status`` - статус процедури, який вона мала на момент останньої перевірки індикатором.
- ``value`` - останнє розраховане значення індикатора.
- ``impact`` - сила ризику індикатора.
- ``history`` - контейнер, що містить історичні дані про розрахунки даного індикатора для поточної процедури.

У контейнері "history" містяться наступні дані:

- ``date`` - дата та час перевірки.
- ``value`` - значення індикатора після перевірки.
- ``indicatorImpact`` - сила ризику індикатора.
- ``status`` - статус процедури, який вона мала на момент перевірки. 

Опис полів контейнера "lotIndicators".
=========================================

У контейнері "lotIndicators" містяться наступні дані:

- ``indicatorId`` - ідентифікатор індикатора, що перевіряв процедуру.
- ``status`` - статус процедури, що вона мала на момент останньої перевірки індикатором.
- ``value`` - останнє розраховане значення індикатора.
- ``lots`` - список лотів процедури, що були перевірені індикатором.
- ``history`` - контейнер, що містить історичні дані про розрахунки даного індикатора для поточної процедури.

У контейнері "history" містяться наступні дані:

- ``date`` - дата та час перевірки.
- ``value`` - значення індикатора після перевірки.
- ``indicatorImpact`` - сила ризику індикатора.
- ``status`` - статус процедури, який вона мала на момент перевірки.
- ``lotId`` - ідентифікатор лота, який був перевірений індикатором.

Опис полів контейнера "indicatorsSummary".
==========================================

У контейнері "indicatorsSummary" містяться наступні дані:

- ``numberOfEligibleIndicators`` - кількість індикаторів, що первіряли процедуру. Тобто дані процедури є такими, що запустили для перевірки таку кількість індикаторів.
- ``numberOfIndicatorsWithRisk`` - кількість індикаторів, що спрацювали на процедурі.
- ``numberOfFailedIndicators`` - кількість індикаторів, розрахунок яких неможливий через якість даних.
- ``tenderScore`` - сила ризику процедури.


Опис полів контейнера "indicatorsInfo".
=======================================

У контейнері "indicatorsInfo" містяться наступні дані:

- ``indicatorId`` - ідентифікатор індикатора.
- ``indicatorCode`` - маркування індикатора, що запропоновано ДАСУ.
- ``indicatorName`` - повна назва індикатора.
- ``indicatorShortName`` - скорочена назва індикатора.
- ``indicatorRisk`` - назва ризику, що виявляє індикатор.
- ``indicatorImpact`` - сила ризику індикатора.
- ``indicatorImpactType`` - тип ризику, що виявляє індикатор.
- ``indicatorTenderLotType`` - індикатор розраховується на лот чи на процедуру загалом.
- ``indicatorCheckingFrequency`` - частота розрахунку індикатора в хвилинах.
- ``lastCheckingDate`` - дата та час останньої перевірки.



